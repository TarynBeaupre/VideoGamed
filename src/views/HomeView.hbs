{{> Header }}

{{#if loggedIn}}
<h1 class="welcomeHeading">Welcome Back!</h1>
{{else}}
<h1 class="welcomeHeading">Welcome, Guest!</h1>
{{/if}}

<div class="topGames">
	<div>
    <h3> Top rated Games:</h3>
    {{#unless top3popular}}
	<p>No games found</p>
    {{else}}
	<ol id="games">
		{{#each top3popular}}
			<li game-id="{{ this.props.id }}">
				<div class="gameInfo">
					<div>
						<a href="/games/{{ this.props.id }}">{{ this.props.title }}</a>
						<p> {{ this.props.developer }} </p>
						<p> {{ this.props.releaseYear }} </p>
					</div>
					<div>
						<img src="{{ this.props.cover }}" height="200" width="150">
					</div>
				</div>
			</li>
		{{/each}}
	</ol>
	{{/unless}}
	</div>
	<div>
	<h3> Most Recent Games: </h3>
	 {{#unless top3recent}}
	<p>No games found</p>
    {{else}}
	<ol id="games">
		{{#each top3recent}}
			<li game-id="{{ this.props.id }}">
					<div class="gameInfo">
					<div>
						<a href="/games/{{ this.props.id }}">{{ this.props.title }}</a>
						<p> {{ this.props.developer }} </p>
						<p> {{ this.props.releaseYear }} </p>
					</div>
					<div>
						<img src="{{ this.props.cover }}" height="200" width="150">
					</div>
				</div>
			</li>
		{{/each}}
	</ol>
	{{/unless}}
	</div>
	
</div>
<h2 class="top3ReviewsHeading"> Most liked reviews: </h2>
<div>
{{#unless top3reviews}}
	<br><p>No reviews yet, be the first!</p>
{{else}}
<br>
<div class="reviewsBox">
		{{#each top3reviews}}
	<div id="reviews" class="oneReview">
			<div class="review-container" review-id="{{ this.props.id }}">
        <div class="review-profile-container">
          <img class="review-profile-pic" src="{{ this.props.userPfp }}">
          <h3> {{ this.props.username }} </h3> 
        </div>
        <div class="review-title">
          <div>
          {{ this.props.title }}
          </div>
        </div>
        <div class="review-text">
          <p>
          {{ this.props.review }}
          </p>
        </div>

        <!-- REVIEWS -->
        <div class="review-likes">
          <p>{{this.props.stars}}⭐️</p>
          <div class="review-likes">
          <form method="POST" action="/games/like/{{this.props.id}}" id="register-form">
            <button type="submit" class="like-button">
              <img class="like-logo" src="../../images/icons/thumbs-up(2).svg">
            </button>
          </form>
            <p>{{this.props.likes}}</p>
          </div>
        </div>

			</div>
	</div>
		{{/each}}

</div>

{{/unless}}
	</div>
{{> Footer }}
